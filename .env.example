# Database (POSTGRES_* used by db container; DATABASE_URL used by API)
# loyalty_app is auto-created by Postgres on first run. Keep these in sync.
POSTGRES_USER=loyalty_app
POSTGRES_PASSWORD=e74a89c3120d4f5b9e8c2a3b
POSTGRES_DB=loyalty
DATABASE_URL=postgresql://loyalty_app:e74a89c3120d4f5b9e8c2a3b@db:5432/loyalty

# Authentication
# WARN: Change these in production!
JWT_SECRET=dev_jwt_secret_change_me
TOKEN_SIGNING_SECRET=dev_token_secret_change_me

# OTP delivery: default is smsflow (SMS via SMSFlow). Set OTP_PROVIDER=twilio to use Twilio (WhatsApp/SMS).
# If provider not configured, OTP is logged only (check API container logs for the code).
# OTP_PROVIDER=smsflow   (default)
# OTP_PROVIDER=twilio

# --- Twilio (when OTP_PROVIDER=twilio) ---
# Use Auth Token (simple) OR API Key + Secret (rotatable).
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_FROM_NUMBER=   (SMS: "My Twilio phone number"; WhatsApp: sandbox/approved From e.g. whatsapp:+14155238886)
# TWILIO_OTP_CHANNEL=sms   (use "sms" for trial + verified numbers; use "whatsapp" when you have a WhatsApp sender)
# TWILIO_API_KEY=
# TWILIO_API_SECRET=

# --- SMSFlow (when OTP_PROVIDER=smsflow) ---
# Uses the Portal Integration API:
#   1) GET  /api/integration/authentication   (Basic Auth: ClientID / ClientSecret) -> { token, expiresInMinutes }
#   2) POST /api/integration/BulkMessages     (Authorization: Bearer <token>)
# Phones: international without + (e.g. 27821234567).
# SMSFLOW_CLIENT_ID=your_client_id_from_portal
# SMSFLOW_CLIENT_SECRET=your_client_secret_from_portal
# SMSFLOW_SENDER_ID=Loyalty   (optional; used as campaignName, max ~11 chars)

# Admin seed (optional; used by db:seed - production should set these)
# ADMIN_EMAIL=admin@loyaltyladies.com
# ADMIN_PASSWORD=secure_admin_password

# Business Logic Defaults
COOLDOWN_MINUTES_DEFAULT=30
VENDOR_COOLDOWN_INCREASE_ONLY=true

# Server Configuration
PORT=8000
HOST=0.0.0.0
CORS_ALLOWED_ORIGIN=http://localhost:5173
